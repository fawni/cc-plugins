(function(c,i,m,a,s){"use strict";function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var o=d(c);const[f,u]=[a.findByDisplayName("FormText"),a.findByDisplayName("TextInput")];var p=()=>(m.useNest(i.persist),o.createElement("div",{className:"randomize-grid"},o.createElement(f,null,"filename length"),o.createElement(u,{note:"the length of the randomized filename",value:i.persist.ghost.filenameLength,type:"text",onChange:e=>{!isNaN(e)&&e>=0&&e<=30&&(i.persist.store.filenameLength=e)}}))),g=()=>s.injectCSS(".randomize-grid{display:grid;gap:1rem;grid-template-columns:auto 1fr;align-items:center}.randomize-grid>div{font-weight:700}");let l,h=a.findByProps("uploadFiles");const y=()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var n=0;n<i.persist.ghost.filenameLength;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e};i.persist.ghost.filenameLength??=7;var j=()=>({onLoad(){l=s.before("uploadFiles",h,e=>{let t=e[0]?.uploads;for(let n in t){let r=t[n];r.filename=`${y()}.${r.filename.slice((Math.max(0,r.filename.lastIndexOf("."))||1/0)+1)}`}})},onUnload(){l(),g()},settings:p});return j})(cumcord.modules.common.React,cumcord.pluginData,cumcord.utils,cumcord.modules.webpack,cumcord.patcher);

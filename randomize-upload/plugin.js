(function(c,i,m,a,s){"use strict";function d(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,Object.freeze(n)}var o=d(c);const[f,u]=[a.findByDisplayName("FormText"),a.findByDisplayName("TextInput")];var g=()=>(m.useNest(i.persist),o.createElement("div",{className:"randomize-grid"},o.createElement(f,null,"filename length"),o.createElement(u,{note:"the length of the randomized filename",value:i.persist.ghost.filenameLength,type:"text",onChange:e=>{!isNaN(e)&&e>=0&&e<=30&&(i.persist.store.filenameLength=e)}}))),h=()=>s.injectCSS(".randomize-grid{display:grid;gap:1rem;grid-template-columns:auto 1fr;align-items:center}.randomize-grid>div{font-weight:700}");let l,p=a.findByProps("uploadFiles");const y=()=>{let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var t=0;t<i.persist.ghost.filenameLength;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e};i.persist.ghost.filenameLength??=7;var j=()=>({onLoad(){l=s.before("uploadFiles",p,e=>{let n=e[0]?.uploads;for(let t=0;t<n.length;t++){let r=n[t];r.filename=`${y()}.${r.filename.slice((Math.max(0,r.filename.lastIndexOf("."))||1/0)+1)}`}})},onUnload(){l(),h()},settings:g});return j})(cumcord.modules.common.React,cumcord.pluginData,cumcord.utils,cumcord.modules.webpack,cumcord.patcher);

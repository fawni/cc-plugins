(function(l,g,p,f,b,x,v){"use strict";function h(e){if(e&&e.__esModule)return e;var o=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(o,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}}),o.default=e,Object.freeze(o)}var a=h(g),q=()=>l.injectCSS('[class*=blockquote].greentext{display:block}[class*=blockquote].greentext blockquote{padding:0}[class*=blockquote].greentext blockquote:before{content:">"}.greentext{color:#b3c45e}');const u=p.webpack.findByDisplayName("SwitchItem");var y=({persist:e})=>(f.useNest(e),a.createElement("div",{className:"greentext_grid"},a.createElement(u,{note:"Convert text preceded by '>' to greentext",value:e.ghost.text??!0,onChange:o=>e.store.text=o},"Convert Text"),a.createElement(u,{note:"Convert blockquotes to greentext",value:e.ghost.quote??!0,onChange:o=>e.store.quote=o},"Convert Quotes")));let i,m;const C=b.find(e=>e.type?.displayName==="MessageContent");var k=({persist:e})=>({onLoad(){e.ghost.text==null&&(e.store.text=!0),e.ghost.quote==null&&(e.store.quote=!0),m=q(),i=l.after("type",C,(o,n)=>{const t=n.props?.children[0];for(const c in t)if(e.ghost.text&&typeof t[c]=="string"){const r=t[c].split(`
`);let d=!1;for(const s in r)typeof r[s]!="string"||!r[s].startsWith(">")||(r[s]=x.React.createElement("div",{className:"greentext"},r[s]),d=!0);d===!0&&(t[c]=r)}else e.ghost.quote&&t[c]?.props?.className?.includes("blockquoteContainer")&&(t[c].props.className+=" greentext");return n})},onUnload(){i(),m()},settings:v.createElement(y,{persist:e})});return k})(cumcord.patcher,cumcord.modules.common.React,cumcord.modules,cumcord.utils,cumcord.modules.webpack,cumcord.modules.common,cumcord.modules.common.React);
